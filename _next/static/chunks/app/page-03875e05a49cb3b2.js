(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1150:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=s(5155),a=s(2115),n=s(4437);function l(e){return{default:e&&"default"in e?e.default:e}}s(6552);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},s=(0,a.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?a.Suspense:a.Fragment,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(c,{...o?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return n},createSnapshot:function(){return o}});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function n(){return a?new a:new r}function l(e){return a?a.bind(e):r.bind(e)}function o(){return a?a.snapshot():function(e,...t){return e(...t)}}},4437:(e,t,s)=>{"use strict";function r(e){let{reason:t,children:s}=e;return s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),s(4553)},6278:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=s(8140)._(s(1150));function a(e,t){var s;let a={};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,r.default)({...n,modules:null==(s=n.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6552:(e,t,s)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),s(5155),s(7650),s(8567),s(7278)},6710:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),a=s(63),n=s(2619),l=s.n(n);function o(){let e=(0,a.usePathname)(),t=[{name:"Dashboard",path:"/",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"Surveys",path:"/analytics",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}];return(0,r.jsxs)("aside",{className:"w-64 bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 text-white min-h-screen flex flex-col shadow-2xl",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-800",children:(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("img",{src:"/logo.png",alt:"eZAIX Logo",className:"w-48 h-auto object-contain transform hover:scale-105 transition-transform duration-300"})})}),(0,r.jsx)("nav",{className:"flex-1 p-4",children:(0,r.jsx)("div",{className:"space-y-2",children:t.map(t=>{var s;return(0,r.jsxs)(l(),{href:t.path,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat("/"===(s=t.path)&&"/"===e||"/"!==s&&e.startsWith(s)?"bg-orange-500 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[t.icon,(0,r.jsx)("span",{className:"font-medium",children:t.name})]},t.path)})})}),(0,r.jsx)("div",{className:"p-6 border-t border-gray-800",children:(0,r.jsxs)("div",{className:"mt-4 text-center",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 font-semibold uppercase tracking-wider",children:"Powered by"}),(0,r.jsx)("p",{className:"text-sm font-bold bg-gradient-to-r from-orange-500 to-red-600 bg-clip-text text-transparent",children:"eZAIX"})]})})]})}},7322:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155),a=s(2115),n=s(6710);let l=(0,s(7909).default)(()=>Promise.all([s.e(776),s.e(111)]).then(s.bind(s,9492)),{loadableGenerated:{webpack:()=>[9492]},ssr:!1}),o={photo_release:"Photo Use Consent Form",townhall:"Town Hall Feedback",grant:"Grant Application",event_feedback:"Event Feedback",employee_satisfaction:"Employee Satisfaction",training_feedback:"Training Feedback",general_survey:"General Survey",Unknown:"Uncategorized"},i=e=>o[e]||e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");function c(){let[e,t]=(0,a.useState)(null),[s,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[h,u]=(0,a.useState)([]),[p,g]=(0,a.useState)(!0),[f,j]=(0,a.useState)(null),[b,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{g(!0);let e="https://accurately-living-phoenix.ngrok-free.app";console.log("\uD83D\uDD17 Using API URL:",e);let s={"ngrok-skip-browser-warning":"true"},[r,a,n,l,i]=await Promise.all([fetch("".concat(e,"/analytics/stats"),{headers:s}),fetch("".concat(e,"/analytics/department-breakdown"),{headers:s}),fetch("".concat(e,"/analytics/category-breakdown"),{headers:s}),fetch("".concat(e,"/analytics/top-categories-by-department"),{headers:s}),fetch("".concat(e,"/analytics/response-breakdown-by-category"),{headers:s})]);if(!r.ok)throw console.error("Stats API error:",r.status,await r.text()),Error("Failed to fetch stats: ".concat(r.status));let c=await r.json(),x=await a.json(),h=await n.json(),p=await l.json(),f=await i.json();t(c),o(x),d(h),m(p.departments||[]),u(f)}catch(e){console.error("Error fetching dashboard data:",e)}finally{g(!1)}},N={chart:{type:"bar",toolbar:{show:!1},height:350,background:"transparent"},series:[{name:"Number of Surveys",data:s.map(e=>e.survey_count)}],xaxis:{categories:s.map(e=>e.department),labels:{style:{colors:"#6B7280",fontSize:"12px"},rotate:-45,rotateAlways:!0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:"#6B7280",fontSize:"12px"},formatter:e=>e.toFixed(0)}},colors:["#FF6B35"],plotOptions:{bar:{borderRadius:8,columnWidth:"60%",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#FF6B35"]}},grid:{borderColor:"#E5E7EB",strokeDashArray:5,xaxis:{lines:{show:!1}}},tooltip:{theme:"light",style:{fontSize:"12px"}}},w={chart:{type:"donut",height:350,background:"transparent",events:{dataPointSelection:(e,t,s)=>{(e=>{let t=c[e];if(!t)return;let s=[];x.forEach(e=>{let r=e.categories.find(e=>e.category===t.category);r&&s.push({name:e.department,count:r.count})}),s.sort((e,t)=>t.count-e.count),j(t.category),y({category:t.category,departments:s})})(s.dataPointIndex)}}},series:f?(null==b?void 0:b.departments.map(e=>e.count))||[]:c.map(e=>e.count),labels:f?(null==b?void 0:b.departments.map(e=>e.name))||[]:c.map(e=>i(e.category)),colors:["#FF6B35","#F7931E","#FF8C42","#FFA65D","#FFB366","#FFC078","#FFCD8A"],plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,total:{show:!0,label:f?"Total Surveys":"Total",fontSize:"16px",fontWeight:600,color:"#FF6B35",formatter:()=>f?((null==b?void 0:b.departments.reduce((e,t)=>e+t.count,0))||0).toString():c.reduce((e,t)=>e+t.count,0).toString()}}}}},legend:{position:"bottom",fontSize:"12px",markers:{size:4,shape:"circle"}},stroke:{width:0},dataLabels:{enabled:!0,formatter:e=>"".concat(e.toFixed(1),"%")},tooltip:{y:{formatter:e=>"".concat(e," surveys")}}};return p?(0,r.jsxs)("div",{className:"flex h-screen",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("main",{className:"flex-1 premium-gradient",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("div",{className:"text-2xl font-semibold text-gray-700",children:"Loading..."}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"Please wait while we prepare your experience"})]})})})]}):(0,r.jsxs)("div",{className:"flex h-screen",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("main",{className:"flex-1 premium-gradient overflow-auto",children:(0,r.jsx)("div",{className:"p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-10",children:(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 via-orange-600 to-red-600 rounded-2xl flex items-center justify-center mr-4 shadow-2xl transform hover:scale-105 transition-transform duration-300",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Survey Analytics Dashboard"}),(0,r.jsx)("p",{className:"text-base text-gray-600",children:"Comprehensive overview of survey metrics and insights"})]})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"kpi-card card-hover",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Questions"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:(null==e?void 0:e.total_questions)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Across all surveys"})]}),(0,r.jsxs)("div",{className:"kpi-card card-hover",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Surveys"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),(0,r.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:(null==e?void 0:e.total_surveys)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Created to date"})]}),(0,r.jsxs)("div",{className:"kpi-card card-hover",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Responses"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:(null==e?void 0:e.total_responses)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Collected responses"})]}),(0,r.jsxs)("div",{className:"kpi-card card-hover",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Active Surveys"}),(0,r.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),(0,r.jsx)("p",{className:"text-4xl font-bold text-gray-900",children:(null==e?void 0:e.active_surveys)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Currently active"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 card-hover",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-3 uppercase tracking-wide",children:"Avg Questions"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:(null==e?void 0:e.avg_questions)||0}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Per survey"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 card-hover",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-3 uppercase tracking-wide",children:"Response Rate"}),(0,r.jsxs)("div",{className:"flex items-baseline",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[(null==e?void 0:e.response_percentage)||0,"%"]}),(0,r.jsxs)("span",{className:"ml-2 stat-badge stat-badge-positive",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Good"]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 card-hover",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-3 uppercase tracking-wide",children:"Top Department"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 truncate",children:(null==e?void 0:e.top_department)||"N/A"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Most active"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 card-hover",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-600 mb-3 uppercase tracking-wide",children:"Top Category"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 truncate",children:(null==e?void 0:e.top_category)?i(e.top_category):"N/A"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Most used"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"chart-container card-hover",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),"Top Categories by Department"]}),(0,r.jsx)("div",{className:"overflow-auto max-h-96",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Surveys"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-orange-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.department}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-semibold",children:e.total_surveys})]},t))})]})})]}),(0,r.jsxs)("div",{className:"chart-container card-hover",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),"Response Breakdown by Category"]}),(0,r.jsx)("div",{className:"overflow-auto max-h-96",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Category"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Target"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Responded"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:h.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:i(e.category)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:e.target_users}),(0,r.jsxs)("td",{className:"px-4 py-3 text-sm text-right",children:[(0,r.jsx)("span",{className:"font-semibold text-green-600",children:e.responded_users}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.response_rate,"%)"]})]})]},t))})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"chart-container card-hover",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"Department-wise Distribution"]}),(0,r.jsx)("div",{className:"h-80",children:(0,r.jsx)(l,{options:N,series:N.series,type:"bar",height:320})})]}),(0,r.jsxs)("div",{className:"chart-container card-hover",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3",children:(0,r.jsxs)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),f?(0,r.jsxs)("span",{children:[i(f)," ",(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"by Department"})]}):"Category Distribution"]}),f&&(0,r.jsxs)("button",{onClick:()=>{j(null),y(null)},className:"flex items-center px-4 py-2 bg-orange-100 hover:bg-orange-200 text-orange-700 rounded-lg transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Overview"]})]}),!f&&(0,r.jsx)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,r.jsx)("span",{className:"font-semibold",children:"\uD83D\uDCA1 Tip:"})," Click on any category slice to drill down and see department breakdown"]})}),(0,r.jsx)("div",{className:"h-80",children:c.length>0&&(0,r.jsx)(l,{options:w,series:w.series,type:"donut",height:320},f||"main")}),f&&b&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"Department Breakdown"}),(0,r.jsx)("div",{className:"overflow-auto max-h-64",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Department"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Surveys"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:b.departments.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-orange-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-semibold",children:e.count})]},t))})]})})]})]})]})]})})})]})}},7828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,s(4054).createAsyncLocalStorage)()},7909:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(6278),a=s.n(r)},8567:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=s(7828)},9685:(e,t,s)=>{Promise.resolve().then(s.bind(s,7322))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9685)),_N_E=e.O()}]);